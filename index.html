<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/style.css">

    <script>

        window.addEventListener("load", function () {

            //--------------------------------------------
            //task1

            let tab = function () {

                let tabTitle = document.querySelectorAll(".tab-title_item");
                let tabBlock = document.querySelectorAll(".tab-block");
                let tabName;

                tabTitle.forEach(elem => {
                    elem.addEventListener("click", selectTab)
                });

                function selectTab() {
                    tabTitle.forEach(elem => {
                        elem.classList.remove("active");
                        elem.style.background = "none";
                    })
                    this.classList.add("active");
                    // tabData = this.getAttribute("data-name");
                    tabName = this.dataset.name;
                    this.style.background = tabName;
                    selectTabBlock(tabName);
                };

                function selectTabBlock(tabName) {

                    tabBlock.forEach(elem => {
                        elem.classList.contains(tabName) ? elem.classList.add("active") : elem.classList.remove("active");
                    })
                }
            };

            tab();

            //--------------------------------------------
            // //task2


            let table = document.querySelector("table");

            table.addEventListener("click", function (e) {
                let target = e.target;
                target.matches(".red") ? target.classList.remove('red') : target.classList.add('red');
            })


            //--------------------------------------------
            // //task3



            let tr = document.querySelectorAll("tr"),
                td = document.querySelectorAll("td"),
                i = 2,
                j = 2;
            //console.log(td.length);
            table.rows[i].cells[j].style.background = "red";

            document.addEventListener("keyup", function (e) {

                if (e.keyCode == '37' && j > 0) {
                    table.rows[i].cells[j].style.background = "";
                    j -= 1;
                    return table.rows[i].cells[j].style.background = "red";

                } else if (e.keyCode == '38' && i > 0) {
                    table.rows[i].cells[j].style.background = "";
                    i -= 1;
                    return table.rows[i].cells[j].style.background = "blue";

                } else if (e.keyCode == '39' && j < (td.length / tr.length - 1)) {
                    table.rows[i].cells[j].style.background = "";
                    j += 1;
                    return table.rows[i].cells[j].style.background = "green";

                } else if (e.keyCode == '40' && i < tr.length - 1) {
                    table.rows[i].cells[j].style.background = "";
                    i += 1;
                    return table.rows[i].cells[j].style.background = "yellow";
                }
            })



        });


    </script>

</head>

<body>
    <div class="wrapper">
        <div class="container">
            <div class="tab-title">
                <button class="tab-title_item red active" data-name="red">red</button>
                <button class="tab-title_item" data-name="yellow">yellow</button>
                <button class="tab-title_item" data-name="green">green</button>
            </div>

            <div class="tab-block red active 1">
            </div>

            <div class="tab-block yellow 2">
            </div>

            <div class="tab-block green 3">
            </div>

        </div>
    </div>

    <table cellspacing="0">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td class="red"></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</body>

</html>